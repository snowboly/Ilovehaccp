{
  "version": "1.0.0",
  "locked": true,
  "section": "CCP Determination",
  "scope": "per_significant_hazard",
  "logic_source": "Codex Alimentarius Decision Tree",
  "questions": [
    {
      "id": "q1_control_measure",
      "text": "Existe-t-il une mesure de contrôle pour le danger identifié à cette étape ?",
      "tooltip": "Un Point de Contrôle Critique (PCC) est une étape où le contrôle est essentiel pour prévenir, éliminer ou réduire un danger pour la sécurité alimentaire à un niveau acceptable.",
      "type": "boolean",
      "required": true
    },
    {
      "id": "q2_step_designed_to_eliminate",
      "text": "Cette étape est-elle conçue spécifiquement pour TUER ou ÉLIMINER le danger ?",
      "tooltip": "Répondre OUI pour : Cuisson (>75°C), Pasteurisation, Désinfection, Détection de métaux. Répondre NON pour : Réfrigération, Congélation ou Contrôle fournisseurs. (Pourquoi ? Le froid ralentit seulement la croissance, il ne tue pas les bactéries).",
      "type": "boolean",
      "required": true
    },
    {
      "id": "q3_contamination_possible",
      "text": "La contamination par le danger peut-elle se produire à cette étape, ou pourrait-elle augmenter à des niveaux inacceptables ?",
      "type": "boolean",
      "required": true
    },
    {
      "id": "q4_subsequent_step",
      "text": "Une étape ultérieure éliminera-t-elle ou réduira-t-elle le danger à un niveau acceptable ?",
      "type": "boolean",
      "required": true
    }
  ],
  "outcome_logic": [
    {
      "conditions": { "q1_control_measure": false },
      "outcome": "Not a CCP"
    },
    {
      "conditions": { "q2_step_designed_to_eliminate": true },
      "outcome": "CCP"
    },
    {
      "conditions": {
        "q2_step_designed_to_eliminate": false,
        "q3_contamination_possible": true,
        "q4_subsequent_step": false
      },
      "outcome": "CCP"
    },
    {
      "conditions": {
        "q2_step_designed_to_eliminate": false,
        "q4_subsequent_step": true
      },
      "outcome": "Not a CCP"
    },
    {
      "conditions": "default",
      "outcome": "OPRP"
    }
  ]
}

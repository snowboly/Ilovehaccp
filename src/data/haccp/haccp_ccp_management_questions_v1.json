{
  "version": "1.0.0",
  "locked": true,
  "section": "CCP Management",
  "scope": "per_ccp",
  "questions": [
    {
      "id": "critical_limits",
      "text": "Critical Limits",
      "tooltip": "A critical limit is the minimum or maximum value that must be met to ensure the CCP is under control. It must be measurable.",
      "type": "group",
      "questions": [
        {
          "id": "critical_limit_value",
          "text": "Critical Limits",
          "tooltip": "A precise value (e.g. >75°C, <4°C, pH <4.6) that separates safe from unsafe. It must be measurable in real-time.",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Core temperature >75°C for 30s, pH < 4.5"
        },
        {
          "id": "critical_limit_basis",
          "text": "Scientific or regulatory basis (Optional)",
          "tooltip": "Cite the source of your limit (e.g. FSA Guidelines, Regulation 852/2004) if known.",
          "type": "text",
          "required": false,
          "placeholder": "e.g., FSA Safe Catering Pack, Codex Alimentarius"
        }
      ]
    },
    {
      "id": "monitoring",
      "text": "Monitoring",
      "tooltip": "Monitoring is the real-time measurement or observation of a CCP to ensure it is within critical limits.",
      "type": "group",
      "questions": [
        {
          "id": "monitoring_parameter",
          "text": "What parameter is monitored?",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Temperature, Time, pH, Visual check"
        },
        {
          "id": "monitoring_method",
          "text": "How is monitoring performed?",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Probe thermometer check, visual inspection"
        },
        {
          "id": "monitoring_frequency",
          "text": "Monitoring frequency",
          "type": "single_select",
          "options": [
            "Continuous",
            "Each batch",
            "Hourly",
            "Daily",
            "Other"
          ],
          "required": true
        },
        {
          "id": "monitoring_responsibility",
          "text": "Who is responsible for monitoring?",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Head Chef, Line Supervisor"
        }
      ]
    },
    {
      "id": "corrective_actions",
      "text": "Corrective Actions",
      "tooltip": "Corrective actions describe what happens when monitoring shows a critical limit has been exceeded, including how control is restored.",
      "type": "group",
      "questions": [
        {
          "id": "deviation_action",
          "text": "What action is taken if the critical limit is exceeded?",
          "tooltip": "Immediate action to bring the process back under control (e.g. continue cooking, discard product).",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Continue cooking until temp reached, Discard product"
        },
        {
          "id": "product_handling",
          "text": "How is affected product handled?",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Segregated and discarded, Reprocessed"
        },
        {
          "id": "root_cause_correction",
          "text": "How is the cause of deviation corrected?",
          "tooltip": "Explain how you fix the underlying issue (e.g. repair fridge, retrain staff) to prevent recurrence.",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Call engineer to repair oven, Retrain staff on procedure"
        }
      ]
    },
    {
      "id": "verification",
      "text": "Verification",
      "tooltip": "Verification confirms that the HACCP system is working as intended (e.g. reviewing records, calibration, testing).",
      "type": "group",
      "questions": [
        {
          "id": "verification_activities",
          "text": "What verification activities are performed?",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Review of temperature records, Calibration of probe"
        },
        {
          "id": "verification_frequency",
          "text": "Verification frequency",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Weekly, Monthly"
        }
      ]
    },
    {
      "id": "records",
      "text": "Records",
      "type": "group",
      "questions": [
        {
          "id": "ccp_records",
          "text": "What records are maintained for this CCP?",
          "type": "text",
          "required": true,
          "placeholder": "e.g., Temperature Log Sheet, Corrective Action Log"
        }
      ]
    }
  ]
}
